<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>3D Model Viewer</title>
  <style>body{margin:0;background:transparent;overflow:hidden}</style>
</head>
<body>
<script src="https://cdn.jsdelivr.net/npm/three@0.157.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.157.0/examples/js/loaders/GLTFLoader.js"></script>
<script>
  let scene=new THREE.Scene();
  let camera=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,0.1,1000);
  camera.position.z = 1000; // zoom out for 500x500
  let renderer=new THREE.WebGLRenderer({alpha:true,antialias:true});
  renderer.setSize(window.innerWidth,window.innerHeight);
  document.body.appendChild(renderer.domElement);
  let light=new THREE.DirectionalLight(0xffffff,1);
  light.position.set(5,5,5);scene.add(light);

  let loader=new THREE.GLTFLoader();
  loader.load("models/extruded.glb",gltf=>{
    let model=gltf.scene;

    // ðŸ”‘ Fit into 500x500 box
    const box = new THREE.Box3().setFromObject(model);
    const size = new THREE.Vector3();
    box.getSize(size);
    const maxDim = Math.max(size.x, size.y);
    const targetSize = 500;
    const scale = targetSize / maxDim;
    model.scale.set(scale, scale, scale);

    const center = new THREE.Vector3();
    box.getCenter(center);
    model.position.sub(center);

    scene.add(model);

    function animate(){
      requestAnimationFrame(animate);
      model.rotation.y += 0.01;
      renderer.render(scene,camera);
    }
    animate();
  });

  window.addEventListener("resize",()=>{
    camera.aspect=window.innerWidth/window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth,window.innerHeight);
  });
</script>
</body>
</html>
